-- Создание таблицы
DROP TABLE IF EXISTS inventory CASCADE;
DROP TABLE IF EXISTS products CASCADE;
DROP INDEX IF EXISTS idx_inventory_product;

CREATE TABLE products
(
    product_id   SERIAL PRIMARY KEY,
    product_name VARCHAR(100) UNIQUE              NOT NULL,
    price        DECIMAL(10, 2) CHECK (price > 0) NOT NULL
);

CREATE TABLE inventory
(
    item_id    SERIAL PRIMARY KEY,
    product_id INT NOT NULL REFERENCES products (product_id) ON DELETE CASCADE,
    quantity   INT NOT NULL CHECK (quantity >= 0)
);

-- Создание индекса
CREATE INDEX idx_inventory_product ON inventory (product_id);

INSERT INTO products (product_name, price)
VALUES ('cqwG', 630.78),
       ('IxIHJzCiVPyEAJOKTUEUOO', 944.54),
       ('K uLnlefGVw', 717.01),
       ('ufJONxFEkMlN', 578.45),
       ('TDutT', 591.77),
       ('SufMnHbkzuXCZryu jU', 930.11),
       ('bTl', 380.72),
       ('CfibBZdwUAWlNcIqnE y', 606.92),
       ('UaCmiKgvv', 720.27),
       ('JLjYMviYvX', 940.38),
       ('GYvgausJL', 379.59),
       ('tRio TI', 540.32),
       ('MTxjTdTsfXQIrweVUlZPNh', 916.38),
       ('EkvDJzsHeUyvwHooirOvrAG', 326.11),
       ('ZmAkpsefyTGAIQpGlIGJjQqhZ', 580.42),
       ('HUrKfheBPCqErWethOXOkEeQJ', 144.27),
       ('UKntXxSBtuszsdMMZTuk', 55.49),
       ('jVNeE rAzMerqyQqw', 462.57),
       ('JVIuPOnnHKFKoKXyHvM ', 315.45),
       ('vjnCaizFAzlMxsnQBNtQD', 713.51),
       ('gaTTel', 14.88),
       ('AQOZPujDwXsgoekm MhvZulg', 467.06),
       ('xNlv enHaTkuRNHqgZSRQ', 798.08),
       ('HHL sxRbHPznJmZIhXOMlX', 925.79),
       ('DzngBOlHYHiWzNy', 537.66),
       ('QyySCDTJSOTUXZGUk', 125.64),
       ('JHMEPoWphDLhAtmHSZZVi', 379.84),
       ('wRwgzTkYmvGEFtVCgpzQ', 40.87),
       ('xOwFSkRFTuDPQHdOHaiZzjPV', 139.08),
       ('SeCab', 802.3),
       ('wRT', 79.31),
       ('qqLwSuLNbWGeDM', 871),
       ('oNpZMEkR', 252.61),
       ('MPHtqGtUHEclkswLcKh', 274.2),
       ('IuLTkJxPFJqLZ', 413.89),
       ('HVAwPyM', 491.53),
       ('rgRCnlkVgXmGVwPHgBkAxEv', 236.86),
       ('pOwR gnt', 344.66),
       ('Df', 989.12),
       ('TmuoiHHWWtMFav', 944.76),
       ('IFwrYDGvbyTDgS', 222.92),
       ('zft WFVcNjpBN', 660.16),
       ('GpcBYVpwfGKHqpuraBl', 3.46),
       ('audnRSPSQAokWbFViWxCjeRH', 500.55),
       ('EHDDUxmXVrrptSeSrOamE', 825.65),
       ('UTChZdWr TNocShtc', 182.39),
       ('HTBrTWajrqyt oNKQIvTMgr', 849.95),
       ('KlsR', 573.65),
       ('NFjB MIGwe', 486.72),
       ('LNjREOwEu', 701.34),
       ('IxSgSJqyTYj', 958.85),
       ('GVyxwFOhFY', 845.63),
       ('dcpDVtsXWtGJHqDaQQnCbk', 46.02),
       ('qx qxPRJWsFnqnIjJP', 724.33),
       ('NCT', 483.69),
       ('MFFJkxvJNVwzRt', 442.2),
       ('oTGRwE', 776.93),
       ('KCqFqlOL', 865.78),
       ('hhtrgBNLesHJR', 855.62),
       ('aFZEvAlGyPeRipCFn', 561.06),
       ('NYkLUjpRQiBPjbYGYcoyEED', 804.75),
       ('lhmzp', 37.68),
       ('HfIcgFkk', 623.79),
       ('tpUSWGf Eczps', 242.25),
       ('EQcOd', 732.88),
       (' yxrygrMLPJvJzIVM', 905.86),
       ('ewReQYBTqu', 264.26),
       ('UikXMFzXhcvHZXqFUOfPJtx', 885.54),
       ('aRwFaoNZkkezEHVugDZcymbdh', 932.79),
       ('L SDZvmbaSIovU', 709.55),
       ('IpzN chbMEQnTWDdSZFO', 98.09),
       ('vjDbngqNxQk', 554.35),
       ('hMBVoiNqukSvoJYAlv', 415.4),
       ('JIoKItbLoTeVbqoGcZGYcb X', 423.24),
       ('vN', 436.7),
       ('cnrTS', 397.94),
       ('SwdWnaAQcDxcLc', 533.16),
       ('eEIhefsCsgbMv', 387.85),
       ('qaVYVEAEYMxBuUmYRz', 940.69),
       ('rEBFZ', 934.86),
       ('KJIlhbipGovQybQWDXMpWG', 398.65),
       ('xrpxzmGAP', 483.54),
       ('njQcRCmLDMWlVgiJb', 553.87),
       ('WR', 879.33),
       ('RRYlTB', 595.87),
       ('WGQfsAllQdnjagcSBqUBIzEjK', 190.01),
       ('SKXWJaFLeYKV', 778.51),
       ('PqKJIG', 804.12),
       ('PhspXR', 575.1),
       ('RMNMLZDv', 568.62),
       ('VmbhwbiFoULtbFQGVfEbDjI', 566.86),
       ('DaQAUF', 230.67),
       ('UrbvdpQmHWsLaYTx', 636.26),
       ('MpnbRyIczbEdgoNYAAlUY', 88.98),
       ('vdzKdgFcAvEptCsyPQ', 658.33),
       ('YGbcqfwNIqeooqEeKXnVh', 943.28),
       ('RJuiJXzheYpb', 120.38),
       ('SNoPFWpPkvTVaYRliBC', 46.3),
       ('VNwHkkswQtbHty', 270.03),
       ('r ', 45.58),
       ('JpAlrpGRbjsWL', 952.18),
       ('fjSUnzaOEr', 163.33),
       ('XkkBuxJkeUBIGI', 41.15),
       ('NDOYxsN GpIHLIoTbpVo', 594.58),
       ('YgiqLaeYQgCEI', 85.11),
       ('AvDnfeO', 281.14),
       ('rxclJEnCZrSjzVaPGC', 581.28),
       ('YbQFUQUDCeOKHBYqxYZEPInm', 770.72),
       ('zhJjL tUPEBhyy', 947.56),
       ('tytG aYSdeErqbRhC', 434.31),
       ('IDqzXhFbBJi DcChe', 233.45),
       ('AkxPSPAHeuLKgMSikkKBVDuCF', 435.62),
       ('kUmwfoUNGQOXogSlh', 776.56),
       ('FWimuqxLWYOZLroRpHMR', 835.24),
       ('ASCHUDziSgwstZBCZk', 911),
       ('mkJYHmokdQ s', 634.76),
       ('cJFbrXk D VQyEfcSNvZxL', 840.52),
       ('sts', 7),
       ('baEhN', 997.2),
       ('GT', 576.03),
       ('vvEtfdnDdra', 482.38),
       ('ZLBYPNex zlqOLKsWlGbJfL', 642.57),
       ('zRSNbZkrrbXwKpWqCN', 202.2),
       ('fKxhHfLxnEUliUlXgyUKIJM', 675.37),
       ('ptvKojovOIrG', 76.93),
       ('SlEluJsHmhVvJaY', 515.07),
       ('brQKVC hTVQHHloESNV', 679.79),
       ('KAZqZNOXTSbPDEP ', 367.47),
       ('BQnKcQXCn', 323.93),
       ('HK', 91.39),
       ('hS lmMEDIkwQVCptDHvgV', 478.2),
       ('IsVpuOyXULCpyBmr', 446.7),
       ('TAPUYLo', 800.43),
       ('bMTCfvkPUFedWxwxMejgbx', 676.53),
       ('WzzKjurNPiGQd VUiq', 679.36),
       ('GzANsHtzclpvFMPwaQwo', 478.71),
       ('BvJIIHNIdjLHrIf', 86.12),
       ('NKakJTFjHUYXqJuSsiBu', 995.08),
       ('avJUcpoLlnjYmYgGC', 942.96),
       (' EaYdEQOxlxa', 46.33),
       ('izrzwg rmcdxgzizu mGt', 885.12),
       ('ovfP iZNnQyVdeqKicMlo', 832.7),
       ('bsyyVNcsehSleYjchZKKfSjX', 761.99),
       ('jvsBpYoJbRr', 972.89),
       (' giLdEualQLhxlRXvsqnZ', 952.95),
       ('mvFdbsrFhfhPhvixfewsyXQs', 710.62),
       ('HNyZtbClKuJxEIW ', 873.55),
       ('CxekCDlmuXtShZtZy', 753.65),
       ('OShXYMahJWpAA', 685.11),
       ('IeKnuW QIb', 17.24),
       ('qdrLgvTXrEN', 988.8),
       ('XBLHtCAqKPpfze y ', 204.35),
       ('JUe', 111.31),
       ('hokwWKneTaimFWpoLOru St', 492.35),
       ('XtSXHKxnLnKPaP', 412.03),
       ('QzcZkvGguInv JeTgDtvjMiGP', 43.02),
       ('wKMANaZwoVqaemvuxTdsAexx', 75.49),
       ('zqYyoEz Er HswCImefzANZx', 296.8),
       ('TLVgfPUlD', 885.65),
       ('lSIwMXjFIrCL', 139.59),
       ('yUYE', 594.29),
       ('XOB', 6000),
       ('Смартфон', 25000.00);

-- Тестовые данные
INSERT INTO inventory (product_id, quantity)
VALUES (4, 10),
       (5, 15),
       (6, 20),
       (7, 25),
       (8, 30),
       (9, 35),
       (10, 40),
       (11, 45),
       (12, 50),
       (13, 55),
       (14, 60),
       (15, 65),
       (16, 70),
       (17, 75),
       (18, 80),
       (19, 85),
       (20, 90),
       (21, 95),
       (22, 100),
       (23, 105),
       (24, 110),
       (25, 115),
       (26, 120),
       (27, 125),
       (28, 130),
       (29, 135),
       (30, 140),
       (31, 145),
       (32, 150),
       (33, 155),
       (34, 160),
       (35, 165),
       (36, 170),
       (37, 175),
       (38, 180),
       (39, 185),
       (40, 190),
       (41, 195),
       (42, 200),
       (43, 205),
       (44, 210),
       (45, 215),
       (46, 220),
       (47, 225),
       (48, 230),
       (49, 235),
       (50, 240),
       (51, 245),
       (52, 250),
       (53, 255),
       (54, 260),
       (55, 265),
       (56, 270),
       (57, 275),
       (58, 280),
       (59, 285),
       (60, 290),
       (61, 295),
       (62, 300),
       (63, 305);
